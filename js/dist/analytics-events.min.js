!function(a,b,c,d){function e(a){a&&ga("send","event","Social","Click","Twitter Follow")}a.twttr=function(b,c,d){var e,f,g=b.getElementsByTagName(c)[0];if(!b.getElementById(d))return f=b.createElement(c),f.id=d,f.src="https://platform.twitter.com/widgets.js",g.parentNode.insertBefore(f,g),a.twttr||(e={_e:[],ready:function(a){e._e.push(a)}})}(b,c,d),twttr.ready(function(a){a.events.bind("click",e)})}(window,document,"script","twitter-wjs"),function(document,window,config){function digestPotentialVideos(a){for(var b=0;b<a.length;b++){var c=checkIfYouTubeVideo(a[b]);if(c){var d=normalizeYouTubeIframe(a[b]);addYouTubeEvents(d)}}}function checkIfYouTubeVideo(a){var b=a.src||"";return b.indexOf("youtube.com/embed/")>-1||b.indexOf("youtube.com/v/")>-1?!0:!1}function normalizeYouTubeIframe(a){var b=document.createElement("a");b.href=a.src,b.hostname="www.youtube.com",b.protocol=document.location.protocol;var c="/"===b.pathname.charAt(0)?b.pathname:"/"+b.pathname,d=window.location.protocol+"%2F%2F"+window.location.hostname;if(-1===b.search.indexOf("enablejsapi")&&(b.search=b.search.length>0?b.search+"&enablejsapi=1":b.search="enablejsapi=1&origin="+d),-1===b.search.indexOf("origin")&&(b.search=b.search+"&origin="+d),"application/x-shockwave-flash"===a.type){var e=document.createElement("iframe");e.height=a.height,e.width=a.width,c="/embed/"+a.videoId,a.parentNode.parentNode.replaceChild(e,a.parentNode),a=e}return b.pathname=c,a.src=b.href+b.hash,a}function addYouTubeEvents(a){a.pauseFlag=!1,a.src.indexOf("playlist=")>-1&&(a.playlist=!0,a.watchToEndCount=0),new YT.Player(a,{events:{onStateChange:function(b){onStateChangeHandler(b,a)}}})}function onStateChangeHandler(a,b){var c=playerStatesIndex[a.data],d=a.target.getVideoUrl(),e=d.match(/[?&]v=([^&#]*)/)[1],f=checkIfEventShouldFire(a.data,b);interpretState(a.data,b),f&&getVideoTitle(b,e,function(a){b.videoTitle=a,b.videoId=e,fireAnalyticsEvent(b,c)})}function fireAnalyticsEvent(a,b){if("undefined"==typeof window.dataLayer||gaTypeOverride){if(defaultEventsFired[b])if("function"==typeof window.ga&&"function"==typeof window.ga.getAll&&2!==gaTypeOverride){var c="You Tube "+b;window.ga("send","event","Videos",b,c)}else"undefined"!=typeof window._gaq&&1!==gaTypeOverride&&window._gaq.push(["_trackEvent","Videos",b])}else window.dataLayer.push({event:"youTubeTrack",attributes:{videoName:a.videoTitle,videoAction:b}})}function getVideoTitle(video,targetVideoId,callback){if(video.videoId===targetVideoId||video.lockVideoTitle)callback(video.videoTitle);else{var timeoutCounter=setTimeout(function(a){callback(a)},5e3);ajax("//gdata.youtube.com/feeds/api/videos/"+targetVideoId+"?v=2&alt=json",function(responseText){var data=eval("["+responseText+"]");"object"==typeof data&&data.length>0&&(clearTimeout(timeoutCounter),callback(data[0].entry.title.$t))})}}function checkIfEventShouldFire(a,b){return 0===a&&b.playlist&&b.watchToEndCount++,b.playlist&&b.watchToEndCount%2===1?!1:2===a&&b.pauseFlag?!1:!0}function interpretState(a,b){b.lockVideoTitle&&(b.lockVideoTitle=!1),0===a&&(b.lockVideoTitle=!0),2===a&&(b.pauseFlag=!0),1===a&&(b.pauseFlag=!1)}function ajax(a,b,c,d){try{if("XDomainRequest"in window&&null!==window.XDomainRequest){var d=new XDomainRequest;d.open("GET",a,1),d.onload=function(){b(d.responseText,d)},d.send()}else{var d=new(this.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");d.open("GET",a,1),d.onreadystatechange=function(){d.readyState>3&&b&&b(d.responseText,d)},d.send(c)}}catch(e){window.console&&console.log(e.message)}}if("undefined"!=typeof window.onYouTubeIframeAPIReady){var err=new Error("There is already a function defined at window.onYouTubeIframeAPIReady; aborting LunaMetrics Google Analytics YouTube Tracking","lunametrics-youtube.js");throw err}var config="object"==typeof config?config:{},gaTypeOverride=config.gaTypeOverride||0,defaultEventsFired=config.defaultEventsFired||{Unstarted:!1,"Watch to End":!0,Play:!0,Pause:!0,Buffering:!1,Cueing:!1};window.onYouTubeIframeAPIReady=function(){var a=document.getElementsByTagName("iframe"),b=document.getElementsByTagName("embed");digestPotentialVideos(a),digestPotentialVideos(b)};var tag=document.createElement("script");tag.src="//www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var playerStatesIndex={"-1":"Unstarted",0:"Watch to End",1:"Play",2:"Pause",3:"Buffering",5:"Cueing"}}(document,window,"OPT_CONFIG_OBJ");